<div ng-controller="classroomListCtrl as vm">	
	<div class="panel panel-danger"> <!--  come from admin.partials.mathprocess -->
			<div class="panel-heading">
			<h3 class="panel-title">系统参数管理流程图：</h3>
			</div>
			<div class="panel-body">
				<a class="btn btn-lg btn-success adminprocessitem" href="http://kidsit.cn/admin/system/classroom">
  				<i class="fa fa-flag pull-left"></i> 创建年级</a>
				<i class="fa fa-arrow-right fa-2x"></i>
				<a class="btn btn-lg btn-success adminprocessitem" href="http://kidsit.cn/admin/system/teacher">
  				<i class="fa fa-flag pull-left"></i> 创建教师</a>
				<i class="fa fa-arrow-right fa-2x"></i>
				<a class="btn btn-lg btn-success adminprocessitem" href="http://kidsit.cn/admin/system/classroom">
  				<i class="fa fa-flag pull-left"></i> 创建班级</a>
				<i class="fa fa-arrow-right fa-2x"></i>
				<a class="btn btn-lg btn-success adminprocessitem" href="http://kidsit.cn/admin/system/student">
  				<i class="fa fa-flag pull-left"></i> 创建学生</a>
			</div>
    </div>

	<table id="classroom" class="table table-striped table-hover">
		<thead>
			<tr>
				<th class="col-md-1">ID</th>
				<th class="col-md-1">系统标识</th>
				<th class="col-md-2">班级描述</th>
				<th class="col-md-2">所属教师</th>

				<th class="col-md-1">学生人数：</th>
				<th class="col-md-2">班级网址</th>
				<th class="col-md-1">创建于：</th>
				<th class="col-md-1">操作：</th>
			</tr>
		</thead>
		<tbody>
			<tr ng-repeat="classroom in classrooms">
				<td class="col-md-1">[[classroom.id]]</td>
				<td class="col-md-1" editable-text="classroom.sysname" onbeforesave="vm.checkAndSaveClassroom($data,'sysname',classroom,{minlength:2,maxlength:20,canuse:1})">[[classroom.sysname]]</td>
				<td class="col-md-2" editable-text="classroom.description" onbeforesave="vm.checkAndSaveClassroom($data,'description',classroom,{minlength:2,maxlength:200})">[[classroom.description]]</td>
				<td class="col-md-2" editable-select="classroom.teacher_id" onshow="vm.loadClassroomSelectableOwners()" e-ng-options="o.id as o.sysloginname + '(' + o.name + ':' + o.id +')' for o in owners" onbeforesave="vm.checkAndSaveClassroom($data,'teacher_id',classroom)">[[classroom.owner.name]]([[classroom.owner.id]])</td>
				<td class="col-md-1" >[[classroom.students.length]]</td>
				<td class="col-md-2" editable-text="classroom.profileURL" onbeforesave="vm.checkAndSaveClassroom($data,'profileURL',classroom,{minlength:12,maxlength:50,isurl: 1})">[[classroom.profileURL]]</td>
				<td class="col-md-1">[[classroom.created_at]]</td>
				<td class="col-md-1"> 
					<a ng-click="vm.deleteClassroom(classroom)" class="btn btn-danger">删除</a>
				</td>
			</tr>
		</tbody>
	</table>
	<a href="#/create" class="btn btn-primary push-right"><span class="glyphicon glyphicon-plus"></span> 新增班级</a>
</div>